# ===== Core Web Framework =====
# Optimized for Python 3.12.10 - December 2025
fastapi>=0.115.6
uvicorn[standard]>=0.34.0
pydantic>=2.10.5
python-multipart>=0.0.20
# SECURITY: starlette 0.49.3+ fixes GHSA-7f5h-v6xp-fcq8
starlette>=0.49.3

# ===== Data Processing =====
# CONSTRAINT: numpy<2.3.0 for opencv-python 4.12.0.88 compatibility
numpy>=2.2.1,<2.3.0
pandas>=2.2.3

# ===== Machine Learning Core =====
scikit-learn>=1.6.1
joblib>=1.4.2
lightgbm>=4.5.0

# ===== Deep Learning (TensorFlow) =====
# NOTE: Upgraded to 2.20.0 for numpy 2.2.1 compatibility
# Using tensorflow-cpu for better compatibility on non-GPU systems
tensorflow-cpu==2.20.0
# SECURITY: keras 3.13.0+ fixes multiple CVEs - Now compatible with Python 3.12
# All CVEs fixed: GHSA-c9rc-mg46-23w3, GHSA-36fq-jgmw-4r9c, GHSA-36rr-ww3j-vrjv, 
#                 GHSA-mq84-hjqx-cwf2, GHSA-hjqc-jx6g-rwp9
keras==3.13.0
# REQUIRED: tf-keras for Keras 3 compatibility with Transformers
tf-keras==2.20.1
# NOTE: protobuf 6.x required by tensorflow-cpu 2.20.0
protobuf>=6.0.0

# ===== Deep Learning (PyTorch) =====
torch==2.5.1
torchvision==0.20.1
sentence-transformers>=3.3.1

# ===== Computer Vision =====
opencv-python>=4.10.0.84
Pillow>=11.1.0

# ===== NLP & Retrieval =====
rank-bm25>=0.2.2
transformers>=4.47.1
# CONSTRAINT: huggingface-hub must remain at 0.36.x for transformers compatibility
# Latest 1.2.0 has breaking changes
huggingface-hub>=0.36.0,<0.37.0

# ===== IoT & Communication =====
paho-mqtt>=2.1.0
pyserial>=3.5

# ===== Database =====
pymongo>=4.10.1
sqlalchemy[asyncio]>=2.0.36
asyncpg>=0.30.0

# ===== Caching & Queue =====
redis[hiredis]>=5.2.1
celery[redis]>=5.4.0
flower>=2.0.1
# CONSTRAINT: kombu typing-extensions must match python version requirements
kombu>=5.4.2

# ===== Authentication & Security =====
# SECURITY: Using PyJWT instead of python-jose to avoid ecdsa CVE-2024-23342
PyJWT>=2.10.0
passlib[bcrypt]>=1.7.4
# CONSTRAINT: fastapi-users 15.0.1 requires pwdlib==0.2.1
fastapi-users[sqlalchemy]>=15.0.1
pwdlib[argon2,bcrypt]==0.2.1

# ===== API Integration =====
# CONSTRAINT: google-generativeai 0.8.5 requires google-ai-generativelanguage==0.6.15
# which requires protobuf<5.0.0
google-generativeai>=0.8.5
google-ai-generativelanguage==0.6.15
openai>=1.59.7
requests>=2.32.3
# Fix typing-extensions version conflict
typing-extensions>=4.12.2

# ===== Local LLM (Ollama) =====
ollama>=0.4.5

# ===== Utilities =====
python-dotenv>=1.0.1
PyYAML>=6.0.2

# ===== Rate Limiting =====
slowapi>=0.1.9

# ===== Database Migrations =====
alembic>=1.14.0

# ===== Monitoring & Metrics =====
prometheus-client>=0.21.1
psutil>=6.1.1
sentry-sdk[fastapi]>=2.19.2

# ===== Additional Backend =====
# SECURITY: Werkzeug 3.1.4+ fixes GHSA-hgf8-39gv-g3f2
Flask>=3.1.0
werkzeug>=3.1.3

# Caching
fastapi-cache2>=0.2.2

# Structured logging
structlog>=24.4.0

# ===== Security & Vulnerability Fixes =====
# SECURITY: fonttools 4.60.2+ fixes GHSA-768j-98cg-p3fv
fonttools>=4.55.3
# SECURITY: ecdsa latest version
ecdsa>=0.19.0